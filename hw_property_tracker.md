# CRUD Quiz

<!-- Use the solution to this afternoon's Property Tracker lab to answer the following questions. Please write your answers under each question, push the file to GitHub, and submit in the usual way. -->

## MVP Questions

<!-- In our Property Tracker application: -->

<!-- Q1. Where are we instantiating instances of the Property class? -->

We are instantiating instances of the property class in the console file, 'Newing' them up and calling them property1, property2 and property3.

<!-- Q2. Where are we defining the SQL that enables us to save the ruby Property object into the database? -->

We define the SQL that enables us to save an object into the database in the Property class file within the save function.
db = PG.connect({dbname: 'property_tracker', host: 'localhost'}) connects the database, and
sql = "INSERT INTO properties ... defines the sql command that we want the function to perform.

<!-- Q3. In console.rb, which lines modify the database? -->

Any line which calls a method on a class or instance of a class. e.g. Property.delete_all

<!-- Q4. Why do we not define the id of a Property object at the point we instantiate it (‘new it up’)? -->

We don't define the id of a Property object at the point we instantiate it because our database will assign the Property object an id automatically, which will be unique and we can track it more easily.

Later, we can give our Property objects an id automatically when we save it in our 'save' function, in the line   @id = db.exec_prepared("save", values)[0]["id"]

<!-- Q5. Where and how do we assign the property id (that is generated by the database) to the ruby object? -->

We can assign our Property objects an id when we save it to the database in our 'save' function, in the line   @id = db.exec_prepared("save", values)[0]["id"] in ruby.

<!-- Q6. Why do we put a guard (an ‘if’ clause) on the @id attribute in the constructor? -->

We put an if clause on the @id attribute in the constructor to state that we only want to assign the Property object with if it exists.

<!-- Q7. Why are some of the CRUD actions represented by instance methods, and others, class methods? -->

Some CRUD actions are represented by instance methods and others by class methods because some actions we only want to call on an instance, and others we want to call on a class.

For example, if we want to delete one property, we could call a method on an instance, but if we wanted to delete all properties, we would call the method on the class.

<!-- Q8. What type of data structure is returned by db.exec() and db.exec_prepared(), and how do we index into it to pull out a desired attribute? -->

An array is returned, we index it by using a number in square brackets?

<!-- Q9. Why do we use prepared statements when performing database operations? -->

We use prepared statements when performing database operations to prevent SQL injection attack. It stops users being able to access information in our database by using placeholders like $1, $2 and $3 to replace our properties.

## Extension Questions

<!-- Look at the `find_by_id` and `find_by_address` methods in the Property class. -->

<!-- Q10. What do they take in as their arguments? -->

<!-- Q11. What are their return values? -->
